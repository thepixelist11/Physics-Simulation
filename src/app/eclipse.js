"use strict";var __classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(receiver,state,kind,f){if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof state==="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver)};var _KeyBoard_keyboardCodes;const PI=Math.PI;const TAU=PI*2;const HALFPI=PI/2;const QUARTERPI=PI/4;const INF=Number.POSITIVE_INFINITY;const NEGINF=Number.NEGATIVE_INFINITY;function drawPoint(ctx,x,y,radius=1,color=Color.BLACK){if(typeof x==="number"&&typeof y==="number"){ctx.fillStyle=color.toString();ctx.beginPath();ctx.arc(x,y,radius,0,TAU);ctx.fill()}else if(x instanceof Vector2&&typeof y==="number"){ctx.fillStyle=radius.toString();ctx.beginPath();ctx.arc(x.x,x.y,y,0,TAU);ctx.fill()}else if(Array.isArray(x)&&typeof y==="number"){ctx.fillStyle=color.toString();ctx.beginPath();ctx.arc(x[0],x[1],y,0,TAU);ctx.fill()}}function drawLine(ctx,x1,y1,x2,y2,weight=2,color=Color.BLACK){ctx.lineWidth=weight;if(typeof x1==="number"&&typeof x2==="number"&&typeof y1==="number"&&typeof y2==="number"){ctx.strokeStyle=color.toString();ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke()}else if(x1 instanceof Vector2&&y1 instanceof Vector2){ctx.strokeStyle=y2.toString();ctx.beginPath();ctx.moveTo(x1.x,x1.y);ctx.lineTo(y1.x,y1.y);ctx.stroke()}}class Color{constructor(r=0,g=0,b=0){this.r=0;this.g=0;this.b=0;if(typeof r==="number"){this.r=clamp(r,0,255);this.g=clamp(g,0,255);this.b=clamp(b,0,255)}else{if(r.trim()[0]==="#"&&r.trim().length===7){const hex=r.substring(1,r.length);let colors=new Array(3);try{colors[0]=clamp(parseInt(hex.substring(0,2),16),0,255);colors[1]=clamp(parseInt(hex.substring(2,4),16),0,255);colors[2]=clamp(parseInt(hex.substring(4,6),16),0,255);this.r=colors[0];this.g=colors[1];this.b=colors[2]}catch(_a){throw new Error(`Hex code ${r} could not be parsed to a color.`)}}else if(new RegExp("rgb\\(\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)").test(r)&&typeof r==="string"){const stringVals=(r.match(new RegExp("rgb\\(\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)"))||["0","0","0"]).slice(1,4);const parsedVals=new Array(3);for(let i=0;i<3;i++){parsedVals[i]=parseInt(stringVals[i])}this.r=clamp(parsedVals[0],0,255);this.g=clamp(parsedVals[1],0,255);this.b=clamp(parsedVals[2],0,255)}else{throw new Error(`${r} is not a valid hex code or CSS color.`)}}}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}}Color.BLACK=new Color(0,0,0);Color.WHITE=new Color(255,255,255);Color.LIGHTGREY=new Color(211,211,211);Color.DARKGREY=new Color(169,169,169);Color.GAINSBORO=new Color(220,220,220);Color.LIGHTSLATEGREY=new Color(132,148,164);Color.SLATEGRAY=new Color(112,128,144);Color.DIMGRAY=new Color(105,105,105);Color.RED=new Color(255,0,0);Color.GREEN=new Color(0,255,0);Color.BLUE=new Color(0,0,255);Color.YELLOW=new Color(255,255,0);Color.PURPLE=new Color(128,0,128);Color.CYAN=new Color(0,255,255);Color.MAGENTA=new Color(255,0,255);Color.ORANGE=new Color(255,165,0);Color.PINK=new Color(255,192,203);Color.LAVENDER=new Color(230,230,250);Color.INDIGO=new Color(75,0,130);Color.TEAL=new Color(0,128,128);Color.MAROON=new Color(128,0,0);Color.GOLD=new Color(255,215,0);Color.SILVER=new Color(192,192,192);Color.BROWN=new Color(54,36,5);Color.NAVY=new Color(0,0,128);Color.OLIVE=new Color(128,128,0);Color.TURQUOISE=new Color(64,224,208);Color.BEIGE=new Color(245,245,220);Color.CORAL=new Color(255,127,80);Color.SALMON=new Color(250,128,114);Color.PEACH=new Color(255,218,185);Color.SKYBLUE=new Color(135,206,235);Color.FORESTGREEN=new Color(34,139,34);Color.PLUM=new Color(221,160,221);Color.KHAKI=new Color(240,230,140);Color.STEELBLUE=new Color(70,130,180);Color.TAN=new Color(210,180,140);Color.DARKORCHID=new Color(153,50,204);Color.ROSYBROWN=new Color(188,143,143);Color.TOMATO=new Color(255,99,71);Color.DARKSLATEGRAY=new Color(47,79,79);Color.SLATEBLUE=new Color(106,90,205);Color.LEMONCHIFFON=new Color(255,250,205);Color.MEDIUMAQUAMARINE=new Color(102,205,170);Color.DARKRED=new Color(139,0,0);Color.OLIVEDRAB=new Color(107,142,35);Color.MIDNIGHTBLUE=new Color(25,25,112);Color.SIENNA=new Color(160,82,45);Color.CORNFLOWERBLUE=new Color(100,149,237);Color.LIGHTSEAGREEN=new Color(32,178,170);Color.DARKSALMON=new Color(233,150,122);Color.PALEGOLDENROD=new Color(238,232,170);Color.LIGHTSLATEGRAY=new Color(119,136,153);Color.DARKSEAGREEN=new Color(143,188,143);Color.DARKCYAN=new Color(0,139,139);Color.DARKORANGE=new Color(255,140,0);Color.MEDIUMVIOLETRED=new Color(199,21,133);Color.DARKKHAKI=new Color(189,183,107);class Vector2{constructor(x=0,y=0){this.x=0;this.y=0;if(Array.isArray(x)){this.x=x[0];this.y=x[1]}else if(typeof y!=="undefined"){this.x=x;this.y=y}}set(other){this.x=other.x;this.y=other.y;return this}getAdd(x){if(typeof x==="number"){return new Vector2(this.x+x,this.y+x)}else{return new Vector2(this.x+x.x,this.y+x.y)}}add(x){if(typeof x==="number"){this.x+=x;this.y+=x}else{this.x+=x.x;this.y+=x.y}return this}getSub(x){if(typeof x==="number"){return new Vector2(this.x-x,this.y-x)}else{return new Vector2(this.x-x.x,this.y-x.y)}}sub(x){if(typeof x==="number"){this.x-=x;this.y-=x}else{this.x-=x.x;this.y-=x.y}return this}getMult(x){if(typeof x==="number"){return new Vector2(this.x*x,this.y*x)}else{return new Vector2(this.x*x.x,this.y*x.y)}}mult(x){if(typeof x==="number"){this.x*=x;this.y*=x}else{this.x*=x.x;this.y*=x.y}return this}getDiv(x){if(typeof x==="number"){if(x===0){return new Vector2(0,0)}return new Vector2(this.x/x,this.y/x)}else{if(x.x===0||x.y===0){return new Vector2(0,0)}return new Vector2(this.x/x.x,this.y/x.y)}}div(x){if(typeof x==="number"){if(x===0){this.x=0;this.y=0}this.x/=x;this.y/=x}else{if(x.x===0||x.y===0){this.x=0;this.y=0}this.x/=x.x;this.y/=x.y}return this}getPow(x){if(typeof x==="number"){return new Vector2(Math.pow(this.x,x),Math.pow(this.y,x))}else{return new Vector2(Math.pow(this.x,x.x),Math.pow(this.y,x.y))}}pow(x){if(typeof x==="number"){this.x^=x;this.y^=x}else{this.x^=x.x;this.y^=x.y}return this}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}angleRadians(){return Math.atan2(this.y,this.x)}angleDegrees(){return radToDeg(Math.atan2(this.y,this.x))}angleBetweenRadians(other){let thisAngle=this.angleRadians();let otherAngle=other.angleRadians();return otherAngle-thisAngle}angleBetweenDegrees(other){let thisAngle=this.angleDegrees();let otherAngle=other.angleDegrees();return otherAngle-thisAngle}dot(other){return this.mag()*other.mag()*Math.cos(this.angleBetweenRadians(other))}normalize(){if(this.mag()===0){this.x=0;this.y=0}else{this.div(this.mag())}return this}getNormalized(){if(this.mag()===0){return new Vector2(0,0)}else{return new Vector2(this.x/this.mag(),this.y/this.mag())}}copy(){return new Vector2(this.x,this.y)}rotateRadians(angle,origin=new Vector2(0,0)){let newVector=this.copy();newVector.sub(origin);const mag=newVector.mag();const newAngle=newVector.angleRadians()+angle;newVector.x=Math.cos(newAngle)*mag+origin.x;newVector.y=Math.sin(newAngle)*mag+origin.y;this.set(newVector);return this}rotateDegrees(angle,origin=new Vector2(0,0)){let newVector=this.copy();newVector.sub(origin);const mag=newVector.mag();const newAngle=newVector.angleDegrees()+angle;newVector.x=Math.cos(degToRad(newAngle))*mag+origin.x;newVector.y=Math.sin(degToRad(newAngle))*mag+origin.y;this.set(newVector);return this}getRotateRadians(angle,origin=new Vector2(0,0)){let newVector=this.copy();newVector.sub(origin);const mag=newVector.mag();const newAngle=newVector.angleRadians()+angle;newVector.x=Math.cos(newAngle)*mag+origin.x;newVector.y=Math.sin(newAngle)*mag+origin.y;return newVector}getRotateDegrees(angle,origin=new Vector2(0,0)){let newVector=this.copy();newVector.sub(origin);const mag=newVector.mag();const newAngle=newVector.angleDegrees()+angle;newVector.x=Math.cos(degToRad(newAngle))*mag+origin.x;newVector.y=Math.sin(degToRad(newAngle))*mag+origin.y;return newVector}setAngleRadians(angle,origin=new Vector2(0,0)){const newVector=this.copy();newVector.sub(origin);const mag=newVector.mag();newVector.x=Math.cos(angle)*mag+origin.x;newVector.y=Math.sin(angle)*mag+origin.y;this.set(newVector);return this}setAngleDegrees(angle,origin=new Vector2(0,0)){const newVector=this.copy();newVector.sub(origin);const mag=newVector.mag();newVector.x=Math.cos(degToRad(angle))*mag+origin.x;newVector.y=Math.sin(degToRad(angle))*mag+origin.y;this.set(newVector);return this}lerp(other,amt){amt=clamp(amt,0,1);this.add(other.sub(this)).mult(amt);return this}getLerp(other,amt){let newVector=this.copy();amt=clamp(amt,0,1);newVector.add(other.sub(newVector)).mult(amt);return newVector}equals(other){if(this.x===other.x&&this.y===other.y){return true}else{return false}}approxEquals(other,tolerance=.1){const xDiff=other.x-this.x;const yDiff=other.y-this.y;if(xDiff<tolerance&&yDiff<tolerance){return true}else{return false}}dist(other){return Math.sqrt(Math.pow(other.x-this.x,2)+Math.pow(other.y-this.y,2))}toString(){return`(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}toJSONString(){return`{
      x: ${this.x},
      y: ${this.y}
    }`}static create(val){if(typeof val==="string"){val=removeChars(val,["(",")"," "]);if(new RegExp("^-?\\d+,-?\\d+$").test(val)){const coords=val.split(",");return new Vector2(parseFloat(coords[0]),parseFloat(coords[1]))}else{throw new Error("Invalid formatting for Vector2.create() | String input")}}else if(Array.isArray(val)){if(typeof val[0]!=="number"||typeof val[1]!=="number"){throw new Error("Invalid formatting for Vector.Vec2.create() | Array input")}else{return new Vector2(val[0],val[1])}}}static fromDegreeAngle(angle,length=1){const x=parseFloat(Math.cos(degToRad(angle)).toFixed(5))*length;const y=parseFloat(Math.sin(degToRad(angle)).toFixed(5))*length;return new Vector2(x,y)}static fromRadianAngle(angle,length=1){const x=parseFloat(Math.cos(angle).toFixed(5))*length;const y=parseFloat(Math.sin(angle).toFixed(5))*length;return new Vector2(x,y)}static random(minX=-1,maxX=1,minY=-1,maxY=1){const x=random(minX,maxX);const y=random(minY,maxY);return new Vector2(x,y)}}Vector2.UP=new Vector2(0,-1);Vector2.DOWN=new Vector2(0,1);Vector2.LEFT=new Vector2(-1,0);Vector2.RIGHT=new Vector2(1,0);Vector2.UPLEFT=new Vector2(-1,-1);Vector2.UPRIGHT=new Vector2(1,-1);Vector2.DOWNLEFT=new Vector2(-1,1);Vector2.DOWNRIGHT=new Vector2(1,1);Vector2.ZERO=new Vector2(0,0);function clamp(value,minimum,maximum){return Math.max(minimum,Math.min(maximum,value))}function deepCopy(value){return JSON.parse(JSON.stringify(value))}function degToRad(x){return x*PI/180}function radToDeg(x){return x*180/PI}function removeChars(str,chars){let ret="";for(let i=0;i<str.length;i++){if(!(chars instanceof RegExp)){if(!chars.includes(str[i])){ret=ret.concat(str[i])}}else{if(!chars.test(str[i])){ret=ret.concat(str[i])}}}return ret}function random(min=0,max=1){return Math.random()*(max-min+1)+min}function next(arr,val,index){if(Array.isArray(val)){for(let i=index;i<arr.length;i++){if(val.includes(arr[i])){return i}}return-1}else if(val instanceof RegExp){for(let i=index;i<arr.length;i++){if(val.test(arr[i])){return i}}return-1}else{for(let i=index;i<arr.length;i++){if(val===arr[i]){return i}}return-1}}function toCamelCase(val){let ret="";for(let i=0;i<val.length;i++){if(![" ","_","\n","-"].includes(val[i])||i===val.length-1){ret=ret.concat(val[i].toLowerCase())}else{ret=ret.concat(val[next([...val],new RegExp("[^_\\-\\n ]"),i)].toUpperCase());i+=next([...val],new RegExp("[^_\\-\\n ]"),i)-i}}return ret}function truncate(val,max,suffix=""){return[...val].splice(0,max).join("").concat(suffix)}function shuffle(arr){let buffer=arr;let ret=new Array(arr.length);for(let i=0;buffer.length>0;i++){const rnd=Math.floor(random(0,buffer.length-1));ret[i]=buffer[rnd];buffer.splice(rnd,1)}return ret}function toPascalCase(val){let ret="";ret=ret.concat(val[0].toUpperCase());for(let i=1;i<val.length;i++){if(![" ","_","\n","-"].includes(val[i])||i===val.length-1){ret=ret.concat(val[i].toLowerCase())}else{ret=ret.concat(val[next([...val],new RegExp("[^_\\-\\n ]"),i)].toUpperCase());i+=next([...val],new RegExp("[^_\\-\\n ]"),i)-i}}return ret}function toSnakeCase(val){let ret="";for(let i=0;i<val.length;i++){if(![" ","_","\n","-"].includes(val[i])||i===val.length-1){ret=ret.concat(val[i].toLowerCase())}else{ret=ret.concat("_");i+=next([...val],new RegExp("[^_\\-\\n ]"),i)-i-1}}return ret}function toConstantCase(val){let ret="";for(let i=0;i<val.length;i++){if(![" ","_","\n","-"].includes(val[i])||i===val.length-1){ret=ret.concat(val[i].toUpperCase())}else{ret=ret.concat("_");i+=next([...val],new RegExp("[^_\\-\\n ]"),i)-i-1}}return ret}function toKebabCase(val){let ret="";for(let i=0;i<val.length;i++){if(![" ","_","\n","-"].includes(val[i])||i===val.length-1){ret=ret.concat(val[i].toLowerCase())}else{ret=ret.concat("-");i+=next([...val],new RegExp("[^_\\-\\n ]"),i)-i-1}}return ret}function toTrainCase(val){let ret="";ret=ret.concat(val[0].toUpperCase());for(let i=1;i<val.length;i++){if(![" ","_","\n","-"].includes(val[i])||i===val.length-1){ret=ret.concat(val[i].toLowerCase())}else{ret=ret.concat("-");ret=ret.concat(val[next([...val],new RegExp("[^_\\-\\n ]"),i)].toUpperCase());i+=next([...val],new RegExp("[^_\\-\\n ]"),i)-i}}return ret}function formatDate(date,format,delimiter="/"){format=format.toLowerCase();format=removeChars(format,new RegExp("[^y^d^m]"));const d=date.getDate();const m=date.getMonth();const y=date.getFullYear();let ret="";let arrFormat=[];let currentVal=format[0];let unusedVals=["y","m","d"];let newVal="";for(let i=0;i<format.length;i++){if(currentVal!==format[i]&&unusedVals.includes(format[i])){unusedVals.splice(unusedVals.indexOf(currentVal),1);currentVal=format[i];arrFormat.push(newVal);newVal=""}if(unusedVals.includes(format[i])){newVal=newVal.concat(format[i])}if(i===format.length-1){arrFormat.push(newVal)}}for(let i=0;i<arrFormat.length;i++){switch(arrFormat[i][0]){case"y":if(arrFormat[i].length>4||arrFormat[i].length===3){arrFormat[i]="yyyy"}else if(arrFormat[i].length<2){arrFormat[i]="yy"}break;case"d":arrFormat[i]="dd";break;case"m":arrFormat[i]="mm";break}}for(let i=0;i<arrFormat.length;i++){switch(arrFormat[i][0]){case"y":if(arrFormat[i].length===4){ret=ret.concat(y.toString())}else{ret=ret.concat(y.toString().substring(2))}break;case"d":ret=ret.concat(d.toString());break;case"m":ret=ret.concat(m.toString());break}if(i!==arrFormat.length-1){ret=ret.concat(delimiter)}}return ret}function formatNumber(num,delimiter=","){let ret="";if(num.toString().indexOf(".")!==-1){var stringNum=cut(num.toString(),".");var decimal=[...num.toString()].splice(num.toString().indexOf(".")).join("")}else{var stringNum=num.toString();var decimal=null}for(let i=stringNum.length-1;i>=0;i-=3){const subStr=range([...stringNum],i-2,i).join("");ret=`${subStr}${ret}`;ret=`${delimiter}${ret}`}if(decimal!==null){ret=ret.concat(decimal)}const result=new RegExp("^,+(.*)").exec(ret);if(result!==null){if(result[1]!==null){return result[1]}else{return result[0]}}return ret}function fromNumberFormat(val){val=removeChars(val,new RegExp("[\\D]."));return parseFloat(val)}function range(array,start,end){end=clamp(end,0,array.length-1);start=clamp(start,0,end);let ret=[];for(let i=start;i<=end;i++){ret.push(array[i])}return ret}function cut(str,val){if(str.indexOf(val)===-1){return str}let ret="";for(let i=0;i<str.length;i++){if(str[i]===val){break}ret=ret.concat(str[i])}return ret}function formatMoney(val,symbol="$",symbolAfter=false){const fixedNum=val.toFixed(2);return symbolAfter?fixedNum.toString().concat(symbol):symbol.concat(fixedNum.toString())}function isString(val){return typeof val==="string"}function isNumber(val){return typeof val==="number"}function isBigInt(val){return typeof val==="bigint"}function isBoolean(val){return typeof val==="boolean"}function isFunction(val){return typeof val==="function"}function isObject(val){return typeof val==="object"}function isSymbol(val){return typeof val==="symbol"}function isUndefined(val){return typeof val==="undefined"}class Mouse{constructor(){this.x=-1;this.y=-1;this.pos=new Vector2(this.x,this.y);this.lmb=false;this.mmb=false;this.rmb=false}positionRelativeToElement(element){if(element){const rect=element.getBoundingClientRect();return new Vector2(this.x-rect.left,this.y-rect.top)}else{throw new Error(`Element ${element} does not exist`);return this.pos}}isOverElement(element){const rect=element.getBoundingClientRect();if(this.x>rect.left&&this.x<rect.right&&this.y>rect.top&&this.y<rect.bottom){return true}else{return false}}hoveredElement(){return document.elementFromPoint(this.x,this.y)}hide(){const body=document.querySelector("body");if(body!==null){body.style.cursor="none"}}show(){const body=document.querySelector("body");if(body!==null){body.style.cursor="default"}}lock(){var _a;try{(_a=document.querySelector("body"))===null||_a===void 0?void 0:_a.requestPointerLock()}catch(_b){throw new Error("Page is not in focus. Cannot lock cursor")}}unlock(){document.exitPointerLock()}}const mouse=new Mouse;document.onmousemove=evt=>{Object.defineProperty(mouse,"x",{value:evt.clientX});Object.defineProperty(mouse,"y",{value:evt.clientY});Object.defineProperty(mouse,"pos",{value:new Vector2(mouse.x,mouse.y)})};document.onmousedown=evt=>{switch(evt.button){case 0:Object.defineProperty(mouse,"lmb",{value:true});break;case 1:Object.defineProperty(mouse,"mmb",{value:true});break;case 2:Object.defineProperty(mouse,"rmb",{value:true});break}};document.onmouseup=evt=>{switch(evt.button){case 0:Object.defineProperty(mouse,"lmb",{value:false});break;case 1:Object.defineProperty(mouse,"mmb",{value:false});break;case 2:Object.defineProperty(mouse,"rmb",{value:false});break}};class KeyBoard{constructor(){this.KeyA=false;this.KeyB=false;this.KeyC=false;this.KeyD=false;this.KeyE=false;this.KeyF=false;this.KeyG=false;this.KeyH=false;this.KeyI=false;this.KeyJ=false;this.KeyK=false;this.KeyL=false;this.KeyM=false;this.KeyN=false;this.KeyO=false;this.KeyP=false;this.KeyQ=false;this.KeyR=false;this.KeyS=false;this.KeyT=false;this.KeyU=false;this.KeyV=false;this.KeyW=false;this.KeyX=false;this.KeyY=false;this.KeyZ=false;this.Digit1=false;this.Digit2=false;this.Digit3=false;this.Digit4=false;this.Digit5=false;this.Digit6=false;this.Digit7=false;this.Digit8=false;this.Digit9=false;this.Digit0=false;this.Space=false;this.ArrowUp=false;this.ArrowDown=false;this.ArrowLeft=false;this.ArrowRight=false;this.Enter=false;this.Backspace=false;this.Tab=false;this.ShiftLeft=false;this.ControlLeft=false;this.AltLeft=false;this.MetaLeft=false;this.ShiftRight=false;this.ControlRight=false;this.AltRight=false;this.MetaRight=false;this.Escape=false;this.F1=false;this.F2=false;this.F3=false;this.F4=false;this.F5=false;this.F6=false;this.F7=false;this.F8=false;this.F9=false;this.F10=false;this.F11=false;this.F12=false;this.PrintScreen=false;this.ScrollLock=false;this.Pause=false;this.Backquote=false;this.Minus=false;this.Equal=false;this.BracketLeft=false;this.BracketRight=false;this.Semicolon=false;this.Quote=false;this.Backslash=false;this.Comma=false;this.Period=false;this.Slash=false;this.Insert=false;this.Delete=false;this.Home=false;this.End=false;this.PageUp=false;this.PageDown=false;this.CapsLock=false;this.ContextMenu=false;this.Numpad0=false;this.Numpad1=false;this.Numpad2=false;this.Numpad3=false;this.Numpad4=false;this.Numpad5=false;this.Numpad6=false;this.Numpad7=false;this.Numpad8=false;this.Numpad9=false;this.NumpadMultiply=false;this.NumpadAdd=false;this.NumpadSubtract=false;this.NumpadDecimal=false;this.NumpadDivide=false;this.NumpadEnter=false;this.NumLock=false;_KeyBoard_keyboardCodes.set(this,["KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Backspace","Tab","ShiftLeft","ControlLeft","AltLeft","MetaLeft","ShiftRight","ControlRight","AltRight","MetaRight","Escape","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Backquote","Minus","Equal","BracketLeft","BracketRight","Semicolon","Quote","Backslash","Comma","Period","Slash","Insert","Delete","Home","End","PageUp","PageDown","CapsLock","ContextMenu","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","NumpadDivide","NumpadEnter","NumLock"])}clearKeys(){for(let i=0;i<__classPrivateFieldGet(this,_KeyBoard_keyboardCodes,"f").length;i++){const key=__classPrivateFieldGet(this,_KeyBoard_keyboardCodes,"f")[i];Object.defineProperty(this,key,{value:false})}}shiftDown(){return this.ShiftLeft||this.ShiftRight}altDown(){return this.AltLeft||this.AltRight}ctrlDown(){return this.ControlLeft||this.ControlRight}focused(){const focus=document.querySelector(":focus");const body=document.querySelector("body");if(focus!==null){return focus}if(body!==null){return body}return new Element}}_KeyBoard_keyboardCodes=new WeakMap;const keyBoard=new KeyBoard;document.onkeydown=evt=>{Object.defineProperty(keyBoard,evt.code,{value:true})};document.onkeyup=evt=>{Object.defineProperty(keyBoard,evt.code,{value:false})};document.onblur=()=>{keyBoard.clearKeys()};function downloadFromPath(filePath,fileName){const a=document.createElement("a");a.href=filePath;a.download=fileName;a.click()}function downloadTextFile(text,name){const a=document.createElement("a");a.href=`data:text/plain,${text}`;a.download=name;a.click()}function downloadCanvas(canvas,fileName){if(canvas instanceof CanvasRenderingContext2D){canvas=canvas.canvas}const result=new RegExp(".*\\.(.*)").exec(fileName);let data;if(result){if(result[1]){data=canvas.toDataURL(`image/${result[1]}`)}else{data=canvas.toDataURL()}}const a=document.createElement("a");a.download=fileName;if(data){a.href=data}a.click()}function addElement(element,parent){if(!parent){const html=document.querySelector("html");if(html){parent=html}}if(!parent){return}parent.appendChild(element)}